<form nz-form [formGroup]="vatForm" (ngSubmit)="onSubmit()" class="vat-form">
  <div class="form-row">
    <nz-form-item class="form-item-full">
      <nz-form-label [nzSpan]="6" nzRequired>Name</nz-form-label>
      <nz-form-control 
        [nzSpan]="16" 
        [nzValidateStatus]="isFieldInvalid('name') ? 'error' : ''"
        [nzErrorTip]="getFieldError('name')"
      >
        <input
          nz-input
          formControlName="name"
          placeholder="Enter VAT rate name (e.g., 'Standard Rate', 'Reduced Rate')"
          maxlength="100"
        />
      </nz-form-control>
    </nz-form-item>
  </div>

  <div class="form-row">
    <nz-form-item class="form-item-half">
      <nz-form-label [nzSpan]="12" nzRequired>Rate (%)</nz-form-label>
      <nz-form-control 
        [nzSpan]="12" 
        [nzValidateStatus]="isFieldInvalid('rate') ? 'error' : ''"
        [nzErrorTip]="getFieldError('rate')"
      >
        <nz-input-number
          formControlName="rate"
          [nzMin]="0"
          [nzMax]="100"
          [nzStep]="0.01"
          [nzPrecision]="2"
          nzPlaceHolder="0.00"
          style="width: 100%;"
        ></nz-input-number>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item class="form-item-half">
      <nz-form-label [nzSpan]="12">Country Code</nz-form-label>
      <nz-form-control 
        [nzSpan]="12" 
        [nzValidateStatus]="isFieldInvalid('countryCode') ? 'error' : ''"
        [nzErrorTip]="getFieldError('countryCode')"
      >
        <input
          nz-input
          formControlName="countryCode"
          placeholder="FR, US, etc."
          maxlength="10"
          style="text-transform: uppercase;"
        />
      </nz-form-control>
    </nz-form-item>
  </div>

  <div class="form-row">
    <nz-form-item class="form-item-full">
      <nz-form-label [nzSpan]="6">Description</nz-form-label>
      <nz-form-control 
        [nzSpan]="16" 
        [nzValidateStatus]="isFieldInvalid('description') ? 'error' : ''"
        [nzErrorTip]="getFieldError('description')"
      >
        <textarea
          nz-input
          formControlName="description"
          placeholder="Optional description of this VAT rate"
          rows="3"
          maxlength="500"
        ></textarea>
      </nz-form-control>
    </nz-form-item>
  </div>

  <div class="form-row">
    <nz-form-item class="form-item-half">
      <nz-form-label [nzSpan]="12">Effective From</nz-form-label>
      <nz-form-control [nzSpan]="12">
        <nz-date-picker
          formControlName="effectiveFrom"
          nzPlaceHolder="Select date"
          style="width: 100%;"
          nzFormat="yyyy-MM-dd"
        ></nz-date-picker>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item class="form-item-half">
      <nz-form-label [nzSpan]="12">Effective To</nz-form-label>
      <nz-form-control [nzSpan]="12">
        <nz-date-picker
          formControlName="effectiveTo"
          nzPlaceHolder="Select date"
          style="width: 100%;"
          nzFormat="yyyy-MM-dd"
        ></nz-date-picker>
      </nz-form-control>
    </nz-form-item>
  </div>

  <div class="form-row switches-row">
    <nz-form-item class="form-item-half">
      <nz-form-label [nzSpan]="12">Active</nz-form-label>
      <nz-form-control [nzSpan]="12">
        <nz-switch formControlName="isActive"></nz-switch>
        <span class="switch-help">Enable this VAT rate</span>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item class="form-item-half">
      <nz-form-label [nzSpan]="12">Default</nz-form-label>
      <nz-form-control [nzSpan]="12">
        <nz-switch formControlName="isDefault"></nz-switch>
        <span class="switch-help">Set as default VAT rate</span>
      </nz-form-control>
    </nz-form-item>
  </div>

  <div class="form-actions">
    <button nz-button nzType="default" (click)="onCancel()" [disabled]="isLoading">
      Cancel
    </button>
    <button 
      nz-button 
      nzType="primary" 
      type="submit" 
      [nzLoading]="isLoading"
      [disabled]="vatForm.invalid"
    >
      {{ isEditMode ? 'Update' : 'Create' }} VAT Rate
    </button>
  </div>
</form> 